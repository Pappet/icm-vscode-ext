{
  "Abfrage Tageskurve (Orders)": {
    "prefix": "icmOrders",
    "body": [
      "[Orders: TreatmentName='${1:*}'; Range=${2|All,Past,Context,Future,ADM...NOW|}; Format=!({Begin}, {TreatmentName}, {Macro}\\CR)]"
    ],
    "description": "Erstellt eine Basisabfrage für Daten aus der Tageskurve (Keyword: Orders)."
  },
  "Abfrage Beurteilungsseiten (Reports)": {
    "prefix": "icmReports",
    "body": [
      "[Reports: Notion='${1:SAPS-Score}'; InstanceID=${2:1}; Records=${3|Last,First,All|}; Format=!({Date}: {ItemText} {FreeText}\\CR)]"
    ],
    "description": "Erstellt eine Basisabfrage für Daten aus den Beurteilungsseiten (Keyword: Reports)."
  },
  "Abfrage Diagnosen/Prozeduren (Codes)": {
    "prefix": "icmCodes",
    "body": [
      "[Codes: CodingSystem=${1|ICD10,ICPM,LEP|}; Range=${2:All}; Format=!({Date}: {Code} {CodeText}\\CR)]"
    ],
    "description": "Erstellt eine Basisabfrage für kodierte Diagnosen oder Prozeduren (Keyword: Codes)."
  },
  "Abfrage Patientendaten (Pat)": {
    "prefix": "icmPat",
    "body": [
      "[Pat: Property=${1:Nachname},${2:Vorname},${3:Geburtstagsdatum}; Format=std_Patient]"
    ],
    "description": "Fragt spezifische demographische Patientendaten ab (Keyword: Pat)."
  },
  "Abfrage Systeminformationen (System)": {
    "prefix": "icmSystem",
    "body": [
      "[System: Item={${1|CurrentUser,CurrentTime,WardName,CurrentCaseID|}}]"
    ],
    "description": "Fragt Systeminformationen wie den aktuellen Benutzer oder die Stations-ID ab."
  },
  "Formatierungsanweisung mit Gruppierung": {
    "prefix": "icmFormatGroup",
    "body": [
      "Format=!(({${1:GroupName}}): (WITHIN{${1:GroupName}}DO:\\LF\\TAB{${2:Macro}},) \\BKSP\\CR)"
    ],
    "description": "Fügt eine Formatierungsanweisung mit Gruppierung (WITHIN...DO) ein."
  },
  "Grundstruktur einer Job-Steuerdatei (.jcf)": {
    "prefix": "icmJcf",
    "body": [
      "[JobControl]",
      "Schedule=${1:NOW...NOW}",
      "CaseLoop=${2|None,Selected,Ward,Archive,All,Changed,WardHistory,History,File|}",
      "",
      "[JobList]",
      "${3:MeinJob}",
      "",
      "[${3:MeinJob}]",
      "Type=${4|TextFile,WinWord,Excel,KeyWord,Printout|}",
      "Template=${5:vorlage.txt}",
      "Target=${6:ausgabe.txt}"
    ],
    "description": "Erstellt die Grundstruktur für eine ICM Export Job-Steuerdatei (.jcf)."
  },
  "Vollständiger Export-Job mit Zeitsteuerung": {
    "prefix": "icmFullJob",
    "body": [
        "[JobControl]",
        "Schedule=${1:2025-01-01 08:00}",
        "Period=${2:1d}",
        "TimeRange=CTX-24h...CTX",
        "CaseLoop=Ward",
        "DisplayErrors=0",
        "OnFinish=",
        "",
        "[JobList]",
        "ExportTageskurve",
        "",
        "[ExportTageskurve]",
        "Type=TextFile",
        "Template=Templates\\TageskurvenExport.template",
        "Target=C:\\Export\\Tageskurve_{CurrentCaseID}_{CurrentTimeNum}.txt",
        "Append=0"
    ],
    "description": "Erstellt einen vollständigen, zeitgesteuerten Export-Job für alle Stationspatienten."
  },
  "Definition Abgeleiteter Verordnungsparameter (DOP)": {
    "prefix": "icmDop",
    "body": [
      "[${1:MeinParameter}]",
      "Maßnahme=${2:FiO2*}",
      "Range=CTX-1h...CTX",
      "Funktion=${3|Last,First,Min,Max,Sum,Avg,Count|}"
    ],
    "description": "Definiert einen abgeleiteten Verordnungsparameter zum Abruf von Werten aus der Tageskurve."
  },
    "Abfrage Score-Summe": {
    "prefix": "icmScoreSum",
    "body": [
      "[ScoreSum: ScoreDisplay='${1:Score Display DRG}'; Range=ADM...CTX; Format=!({ScoreSum})]"
    ],
    "description": "Berechnet die Summe der Punkte für einen bestimmten Score."
  }
}